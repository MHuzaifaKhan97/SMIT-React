(this["webpackJsonpblog-app"]=this["webpackJsonpblog-app"]||[]).push([[0],{31:function(e,a,t){e.exports=t(48)},46:function(e,a,t){},48:function(e,a,t){"use strict";t.r(a);var n=t(0),s=t.n(n),l=t(28),r=t.n(l),c=t(8),o=t(9),m=t(11),i=t(10),u=t(30),d=t(15),p=t(14),g=t.n(p),f=t(19),b=t(5),h=t(17);t(37),t(49),t(39);h.initializeApp({apiKey:"AIzaSyCxD_834JdgD0okVIukz8ws3y4q7J_YPJU",authDomain:"b-logs.firebaseapp.com",databaseURL:"https://b-logs.firebaseio.com",projectId:"b-logs",storageBucket:"b-logs.appspot.com",messagingSenderId:"2887922305",appId:"1:2887922305:web:15fb32851064c3928cd380",measurementId:"G-6DEF60PB0L"});var E=h.database(),v=h.auth(),N=h.storage(),y=function(e){Object(m.a)(t,e);var a=Object(i.a)(t);function t(){var e;Object(c.a)(this,t);for(var n=arguments.length,s=new Array(n),l=0;l<n;l++)s[l]=arguments[l];return(e=a.call.apply(a,[this].concat(s))).state={title:"",desc:"",posts:[],imgUrl:"",user:""},e.onFileChange=function(){var a=Object(f.a)(g.a.mark((function a(t){var n,s,l,r;return g.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n=t.target.files[0],s=N.ref(),l=s.child(n.name),a.next=5,l.put(n);case 5:return a.next=7,l.getDownloadURL();case 7:r=a.sent,e.setState({imgUrl:r});case 9:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}(),e.onInputChange=function(a){e.setState(Object(d.a)({},a.target.name,a.target.value))},e.submitPost=Object(f.a)(g.a.mark((function a(){var t;return g.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:t=E.ref("posts").push().key,console.log(t),""===e.state.title?alert("Please Enter Title"):""===e.state.desc?alert("Please Enter Description"):""===e.state.imgUrl?alert("Please Select Image File"):setTimeout((function(){E.ref("posts/".concat(t)).set({title:e.state.title,desc:e.state.desc,name:e.state.user.email,imgFile:e.state.imgUrl}).then((function(){alert("Post Added")}))}),4e3);case 3:case"end":return a.stop()}}),a)}))),e.fetchPost=Object(f.a)(g.a.mark((function a(){return g.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,E.ref("posts").on("child_added",(function(a){console.log(a.val()),e.setState({posts:[a.val()].concat(Object(u.a)(e.state.posts))})}));case 2:case"end":return a.stop()}}),a)}))),e}return Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.fetchPost(),v.onAuthStateChanged((function(a){console.log(a),e.setState({user:a})}))}},{key:"render",value:function(){var e=this;return console.log(this.state.post),s.a.createElement(s.a.Fragment,null,this.state.user?s.a.createElement("div",{className:"container-fluid"},s.a.createElement("div",{className:"row add_post"},s.a.createElement("div",{className:"col-md-4 offset-md-8"},s.a.createElement("button",{"data-toggle":"modal","data-target":"#postModal",className:"btn btn-outline-dark"},s.a.createElement("span",{className:"fa fa-plus mx-2"}),"Add Post")),s.a.createElement("div",{className:"modal fade",id:"postModal",tabIndex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},s.a.createElement("div",{className:"modal-dialog"},s.a.createElement("div",{className:"modal-content"},s.a.createElement("div",{className:"modal-header"},s.a.createElement("h3",{className:"text-center font-weight-bold my-3"},s.a.createElement("span",{className:"heading_1"},"b"),s.a.createElement("span",{className:"heading_2"},"-Logs "),"- Add New Post"),s.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close"},s.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),s.a.createElement("div",{className:"modal-body"},s.a.createElement("div",{className:"form-group"},s.a.createElement("input",{className:"form-control",type:"text",placeholder:"Enter Title...",name:"title",onChange:function(a){return e.onInputChange(a)}})),s.a.createElement("div",{className:"form-group"},s.a.createElement("input",{className:"form-control",type:"text",placeholder:"Enter Description...",name:"desc",onChange:function(a){return e.onInputChange(a)}})),s.a.createElement("div",{className:"form-group"},s.a.createElement("input",{onChange:this.onFileChange,type:"file",className:"form-control"}))),s.a.createElement("div",{className:"modal-footer"},s.a.createElement("button",{className:"btn btn-primary btn-block",onClick:this.submitPost},s.a.createElement("span",{className:"fa fa-plus mx-2"}),s.a.createElement("span",{className:"font-weight-bold"},"Add Post")),s.a.createElement("button",{type:"button",className:"btn btn-secondary btn-block","data-dismiss":"modal"},"Close")))))),s.a.createElement("div",{className:"row my-5"},s.a.createElement("div",{className:"col-md-8 offset-md-2"},this.state.posts?this.state.posts.map((function(e,a){return s.a.createElement("div",{className:"card posts my-3",key:a,style:{width:"100%"}},s.a.createElement("img",{src:e.imgFile,width:"100",height:"200",className:"card-img-top img-fluid",alt:"..."}),s.a.createElement("div",{className:"card-body"},s.a.createElement("h5",{className:"card-title"},e.title),s.a.createElement("p",{className:"card-text"},e.desc),s.a.createElement("p",null,"Posted by: ",s.a.createElement("span",{className:"font-weight-bold"},e.name))))})):""))):s.a.createElement("div",{className:"not_logged_in text-center"},s.a.createElement("h1",{className:"text-center"}," Your are not logged in"),s.a.createElement(b.b,{to:"/login"},s.a.createElement("button",{className:"btn btn-dark my-4"},"Goto Login"))))}}]),t}(n.Component),w=t(1),k=function(e){Object(m.a)(t,e);var a=Object(i.a)(t);function t(){var e;Object(c.a)(this,t);for(var n=arguments.length,s=new Array(n),l=0;l<n;l++)s[l]=arguments[l];return(e=a.call.apply(a,[this].concat(s))).state={email:"",password:"",user:""},e.onInputChange=function(a){e.setState(Object(d.a)({},a.target.name,a.target.value))},e.loggedIn=function(){""===e.state.email?alert("Please enter your email"):""===e.state.password?alert("Please enter your password"):v.signInWithEmailAndPassword(e.state.email,e.state.password).then((function(e){alert("User Successfully Logged In.")})).catch((function(e){alert(e.message)}))},e}return Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;v.onAuthStateChanged((function(a){console.log(a),e.setState({user:a})}))}},{key:"render",value:function(){var e=this;return s.a.createElement(s.a.Fragment,null,this.state.user?s.a.createElement(w.a,{to:"/"}):s.a.createElement("div",{className:"container login_main"},s.a.createElement("div",{className:"row post-parent"},s.a.createElement("div",{className:"col-md-8 offset-md-2 my-5 post"},s.a.createElement("h3",{className:"text-center font-weight-bold my-3"},s.a.createElement("span",{className:"heading_1"},"b"),s.a.createElement("span",{className:"heading_2"},"-Logs "),"- Login"),s.a.createElement("div",{className:"form-group"},s.a.createElement("input",{className:"form-control",type:"email",placeholder:"Enter Email...",name:"email",onChange:function(a){return e.onInputChange(a)}})),s.a.createElement("div",{className:"form-group"},s.a.createElement("input",{className:"form-control",type:"password",placeholder:"Enter Password...",name:"password",onChange:function(a){return e.onInputChange(a)}})),s.a.createElement("div",{className:"form-group"},s.a.createElement("button",{className:"btn btn-primary btn-block",onClick:this.loggedIn},s.a.createElement("span",{className:"fa fa-sign-in mx-2"}),s.a.createElement("span",{className:"font-weight-bold"},"Login"))),s.a.createElement("hr",null),s.a.createElement("p",{className:"text-center font-weight-bold"},"OR"),s.a.createElement("hr",null),s.a.createElement("div",{className:"form-group"},s.a.createElement(b.b,{to:"/signup",className:"text-white"},s.a.createElement("button",{className:"btn btn-dark btn-block"},s.a.createElement("span",{className:"fa fa-sign-out mx-2"}),s.a.createElement("span",{className:"font-weight-bold"},"Sign Up"))))))))}}]),t}(n.Component),x=(t(46),function(e){Object(m.a)(t,e);var a=Object(i.a)(t);function t(){var e;Object(c.a)(this,t);for(var n=arguments.length,s=new Array(n),l=0;l<n;l++)s[l]=arguments[l];return(e=a.call.apply(a,[this].concat(s))).state={user:""},e.logOut=function(){v.signOut()},e}return Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;v.onAuthStateChanged((function(a){console.log(a),e.setState({user:a})}))}},{key:"render",value:function(){return s.a.createElement("nav",{className:"navbar navbar-expand-lg fixed-top navbar-dark custom_navbar py-1"},s.a.createElement("div",{className:"container"},s.a.createElement(b.b,{to:"/"},s.a.createElement("h1",{className:"navbar-brand font-weight-bold"},s.a.createElement("span",{className:"heading_1"},"b"),s.a.createElement("span",{className:"heading_2"},"-Logs"))),s.a.createElement("button",{className:"navbar-toggler","data-toggle":"collapse","data-target":"#navbar"},s.a.createElement("span",{className:"navbar-toggler-icon"}," ")),s.a.createElement("div",{className:"collapse navbar-collapse",id:"navbar"},s.a.createElement("ul",{className:"navbar-nav ml-auto",id:"navbar"},s.a.createElement("li",{className:"nav-item"},s.a.createElement(b.b,{to:"/",className:"nav-link links"},s.a.createElement("span",{className:"fa fa-home mx-1 text-warning"}),"Home")),this.state.user?s.a.createElement("li",{className:"nav-item"},s.a.createElement("button",{onClick:this.logOut,className:"btn btn-danger nav-link text-white mx-3",to:"/login"},s.a.createElement("span",{className:"fa fa-sign-out mx-1 text-warning"}),"logout")):s.a.createElement("li",{className:"nav-item"},s.a.createElement(b.b,{to:"/login",className:"nav-link links"},s.a.createElement("span",{className:"fa fa-sign-in mx-1 text-warning"}),"Login"))))))}}]),t}(n.Component)),C=function(e){Object(m.a)(t,e);var a=Object(i.a)(t);function t(){var e;Object(c.a)(this,t);for(var n=arguments.length,s=new Array(n),l=0;l<n;l++)s[l]=arguments[l];return(e=a.call.apply(a,[this].concat(s))).state={email:"",password:"",user:""},e.onInputChange=function(a){e.setState(Object(d.a)({},a.target.name,a.target.value))},e.userSignup=function(){console.log(e.state.email,e.state.password),""===e.state.email?alert("Please enter your email"):""===e.state.password?alert("Please enter your password"):v.createUserWithEmailAndPassword(e.state.email,e.state.password).then((function(e){alert("User Successfully Created.")})).catch((function(e){alert(e.message)}))},e}return Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;v.onAuthStateChanged((function(a){console.log(a),e.setState({user:a})}))}},{key:"render",value:function(){var e=this;return s.a.createElement(s.a.Fragment,null,this.state.user?s.a.createElement(w.a,{to:"/"}):s.a.createElement("div",{className:"container login_main"},s.a.createElement("div",{className:"row post-parent"},s.a.createElement("div",{className:"col-md-8 offset-md-2 my-5 post"},s.a.createElement("h3",{className:"text-center font-weight-bold my-3"},s.a.createElement("span",{className:"heading_1"},"b"),s.a.createElement("span",{className:"heading_2"},"-Logs "),"- Sign Up"),s.a.createElement("div",{className:"form-group"},s.a.createElement("input",{className:"form-control",type:"email",placeholder:"Enter Email...",name:"email",onChange:function(a){return e.onInputChange(a)}})),s.a.createElement("div",{className:"form-group"},s.a.createElement("input",{className:"form-control",type:"password",placeholder:"Enter Password...",name:"password",onChange:function(a){return e.onInputChange(a)}})),s.a.createElement("div",{className:"form-group"},s.a.createElement("button",{className:"btn btn-primary btn-block",onClick:this.userSignup},s.a.createElement("span",{className:"fa fa-sign-in mx-2"}),s.a.createElement("span",{className:"font-weight-bold"},"Create User"))),s.a.createElement("hr",null),s.a.createElement("p",{className:"text-center font-weight-bold"},"OR"),s.a.createElement("hr",null),s.a.createElement("div",{className:"form-group"},s.a.createElement(b.b,{to:"/login",className:"text-white"},s.a.createElement("button",{className:"btn btn-dark btn-block"},s.a.createElement("span",{className:"fa fa-sign-out mx-2"}),s.a.createElement("span",{className:"font-weight-bold"},"Login"))))))))}}]),t}(n.Component),O=function(e){Object(m.a)(t,e);var a=Object(i.a)(t);function t(){return Object(c.a)(this,t),a.apply(this,arguments)}return Object(o.a)(t,[{key:"render",value:function(){return s.a.createElement(s.a.Fragment,null,s.a.createElement(b.a,null,s.a.createElement(x,null),s.a.createElement(w.b,{exact:!0,path:"/",component:y}),s.a.createElement(w.b,{path:"/login",component:k}),s.a.createElement(w.b,{path:"/signup",component:C})))}}]),t}(n.Component);t(47);r.a.render(s.a.createElement(s.a.StrictMode,null,s.a.createElement(O,null)),document.getElementById("root"))}},[[31,1,2]]]);
//# sourceMappingURL=main.e68175c1.chunk.js.map